<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã†ã¡ã‚…ã†ã²ã‚‰ãŒãªã‹ãƒ¼ã©</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:radial-gradient(circle at top,#3b1d6b 0%,#1b0f3a 40%,#09001a 100%);
}
.container{padding:20px}

/* ç™½ã‚«ãƒ¼ãƒ‰ */
.main{
  text-align:center;
  padding:20px;
  background:rgba(255,255,255,.95);
  border-radius:24px;
  max-width:960px;
  margin:0 auto 10px auto;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
}

.app-title{font-size:28px;font-weight:bold}
.howto{font-size:16px;margin-top:6px}
.score{font-size:20px;margin-bottom:10px}

h1{font-size:28px;margin:10px 0}

.choices{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
}

/* å•é¡Œã‚«ãƒ¼ãƒ‰ */
.image-card{
  width:160px;
  height:200px;
  border-radius:20px;
  border:4px solid #d4b6ff;
  background:#fff;
  margin:10px;
  cursor:pointer;
  box-shadow:0 6px 12px rgba(0,0,0,.25);
  display:flex;
  align-items:center;
  justify-content:center;
}
.image-card img{
  max-width:100%;
  max-height:100%;
  border-radius:12px;
}
.image-card.correct{
  border-color:gold;
  animation:glow .8s ease-in-out infinite alternate;
}
@keyframes glow{
  from{box-shadow:0 0 10px rgba(255,215,0,.6)}
  to{box-shadow:0 0 30px rgba(255,215,0,1)}
}

/* â­ æ˜Ÿï¼ˆæ¯å•ï¼‰ */
.star-area{
  max-width:960px;
  margin:0 auto;
  min-height:36px;
  padding:6px;
  font-size:26px;
  color:#fff59d;
  text-align:center;
}

/* ğŸŒ æƒ‘æ˜Ÿï¼ˆç¯€ç›®ï¼‰ */
.planet-area{
  max-width:960px;
  margin:0 auto;
  min-height:140px;
  padding:10px;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:14px;
}
.planet-card{
  width:96px;
  height:96px;
  border-radius:50%;
  background:#fff;
  border:4px solid #ffd54f;
  box-shadow:0 0 20px rgba(255,215,0,.9);
}
.planet-card img{
  width:100%;
  height:100%;
  border-radius:50%;
}

/* ğŸ” ã‚‚ã†ã„ã¡ã© */
.restart-btn{
  margin-top:20px;
  padding:12px 24px;
  font-size:20px;
  border-radius:20px;
  border:none;
  background:#ffcc80;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">

  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <div class="main">
    <div class="app-title">ã†ã¡ã‚…ã†ã²ã‚‰ãŒãªã‹ãƒ¼ã©</div>
    <div class="howto">
      ã‚ãã³ã‹ãŸï¼šã—ã¤ã‚‚ã‚“ã«ã‚ã† ã²ã‚‰ãŒãªã® ã‹ãƒ¼ã©ã‚’ ãˆã‚‰ã‚“ã§ã­
    </div>
  </div>

  <!-- ã‚¯ã‚¤ã‚º -->
  <div class="main">
    <div class="score" id="score"></div>
    <h1 id="question"></h1>
    <div class="choices" id="choices"></div>
    <button class="restart-btn" id="restartBtn" style="display:none">
      ã‚‚ã†ã„ã¡ã© ã‚ãã¶
    </button>
  </div>

  <!-- â­ æ˜Ÿ -->
  <div class="star-area" id="stars"></div>

  <!-- ğŸŒ æƒ‘æ˜Ÿ -->
  <div class="planet-area" id="planetArea"></div>

</div>

<script>
// ========================
// ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚ã€œã‚’ï¼‰
const data = [
  {c:"ã‚",q:"ã‚ã¾ã®ãŒã‚",img:"image/amanoj.png"},
  {c:"ã„",q:"ã„ã‚“ã›ã",img:"image/inseki.png"},
  {c:"ã†",q:"ã†ã¡ã‚…ã†",img:"image/uchuu.png"},
  {c:"ãˆ",q:"ãˆã„ã›ã„",img:"image/eisei.png"},
  {c:"ãŠ",q:"ãŠã‚ŠãŠã‚“ã–",img:"image/orion.png"},
  {c:"ã‹",q:"ã‹ã›ã„",img:"image/kasei.png"},
  {c:"ã",q:"ãã‚“ã›ã„",img:"image/kinsei.png"},
  {c:"ã",q:"ãã‚‹ãã‚‹ ãã‚“ãŒ",img:"image/kurukuru.png"},
  {c:"ã‘",q:"ã‘ã‚Œã™",img:"image/ceres.png"},
  {c:"ã“",q:"ã“ã¨ã–",img:"image/koto.png"},
  {c:"ã•",q:"ã•ãŸãƒ¼ã‚“",img:"image/saturn.png"},
  {c:"ã—",q:"ã—ã‚Šã†ã™",img:"image/sirius.png"},
  {c:"ã™",q:"ã™ã„ã›ã„",img:"image/suisei.png"},
  {c:"ã›",q:"ã›ã„ã–",img:"image/seiza.png"},
  {c:"ã",q:"ãã‚‰ã® ã»ã—",img:"image/sorano.png"},
  {c:"ãŸ",q:"ãŸã„ã‚ˆã†",img:"image/taiyou.png"},
  {c:"ã¡",q:"ã¡ãã‚…ã†",img:"image/chikyuu.png"},
  {c:"ã¤",q:"ã¤ã",img:"image/tsuki.png"},
  {c:"ã¦",q:"ã¦ã‚“ã®ã†ã›ã„",img:"image/tennou.png"},
  {c:"ã¨",q:"ã¨ãŠã„ã»ã—",img:"image/toihoshi.png"},
  {c:"ãª",q:"ãªãŒã‚Œã¼ã—",img:"image/nagare.png"},
  {c:"ã«",q:"ã«ã˜ã„ã‚ ã†ã¡ã‚…ã†",img:"image/nijiiro.png"},
  {c:"ã¬",q:"ã¬ã„ãã‚‹ã¿ ã›ã„ã˜ã‚“",img:"image/nuigurumi.png"},
  {c:"ã­",q:"ã­ã·ã¡ã‚…ãƒ¼ã‚“",img:"image/neputun.png"},
  {c:"ã®",q:"ã®ãƒ¼ã™ ã™ãŸãƒ¼",img:"image/northstar.png"},
  {c:"ã¯",q:"ã¯ã†ã‚ã‚",img:"image/haumea.png"},
  {c:"ã²",q:"ã²ã‹ã‚‹ ã»ã—",img:"image/hikaru.png"},
  {c:"ãµ",q:"ãµã‚ãµã‚ ã†ã¡ã‚…ã†",img:"image/fuwa.png"},
  {c:"ã¸",q:"ã¸ã‚“ã—ã‚“ ã‚ã‘ã£ã¨",img:"image/henshin.png"},
  {c:"ã»",q:"ã»ãã¨ã—ã¡ã›ã„",img:"image/hokuto.png"},
  {c:"ã¾",q:"ã¾ã‘ã¾ã‘",img:"image/makemake.png"},
  {c:"ã¿",q:"ã¿ã‹ã¥ã",img:"image/mikazuki.png"},
  {c:"ã‚€",q:"ã‚€ã’ã‚“ã® ã†ã¡ã‚…ã†",img:"image/mugen.png"},
  {c:"ã‚",q:"ã‚ã„ãŠã†ã›ã„",img:"image/meiou.png"},
  {c:"ã‚‚",q:"ã‚‚ãã›ã„",img:"image/mokusei.png"},
  {c:"ã‚„",q:"ã‚„ãã–",img:"image/yagi.png"},
  {c:"ã‚†",q:"ã‚†ãƒ¼ãµã‰ãƒ¼",img:"image/ufo.png"},
  {c:"ã‚ˆ",q:"ã‚ˆãã‚‰",img:"image/yozora.png"},
  {c:"ã‚‰",q:"ã‚‰ã›ã‚“ ãã‚“ãŒ",img:"image/rasen.png"},
  {c:"ã‚Š",q:"ã‚Šã‚…ã†ã›ã„ãã‚“",img:"image/ryuusei.png"},
  {c:"ã‚‹",q:"ã‚‹ã‚“ã‚‹ã‚“ã‚ã‘ã£ã¨",img:"image/runrun.png"},
  {c:"ã‚Œ",q:"ã‚Œã„ã‚“ã¼ãƒ¼ ã™ãŸãƒ¼",img:"image/rainbow.png"},
  {c:"ã‚",q:"ã‚ã‘ã£ã¨ ã¯ã£ã—ã‚ƒ",img:"image/rocketstart.png"},
  {c:"ã‚",q:"ã‚ãã›ã„ ã—ã‚…ã†ã”ã†",img:"image/wakusei.png"},
  {c:"ã‚’",q:"ãŸã„ã‚ˆã†ã‘ã„ã‚’ ãŸã³ã™ã‚‹",img:"image/tabi.png"}
];

// ğŸŒ æƒ‘æ˜Ÿå ±é…¬
const rewardPlanets = [
  {count:1, img:"image/taiyou.png"},
  {count:5, img:"image/suisei.png"},
  {count:10,img:"image/kinsei.png"},
  {count:15,img:"image/chikyuu.png"},
  {count:20,img:"image/kasei.png"},
  {count:25,img:"image/mokusei.png"},
  {count:30,img:"image/saturn.png"},
  {count:35,img:"image/tennou.png"},
  {count:40,img:"image/neputun.png"},
  {count:45,img:"image/meiou.png"}
];

// ğŸŒŸ æœ€å¾Œã®ã€Œã‚“ã€
const tensai = {
  c:"ã‚“",
  q:"ã†ã¡ã‚…ã†ã® ã¦ã‚“ã•ã„ï¼",
  img:"image/tensai.png"
};

let shuffled, index, correctCount, finished;
let shownPlanets = new Set();

function speak(t){
  const u=new SpeechSynthesisUtterance(t);
  u.lang="ja-JP";
  speechSynthesis.speak(u);
}

function updateUI(){
  document.getElementById("score").textContent =
    `ã›ã„ã‹ã„ï¼š${correctCount} / ${shuffled.length}`;
  document.getElementById("stars").textContent =
    "â˜†".repeat(correctCount);

  const area=document.getElementById("planetArea");
  rewardPlanets.forEach(p=>{
    if(correctCount>=p.count && !shownPlanets.has(p.count)){
      const card=document.createElement("div");
      card.className="planet-card";
      card.innerHTML=`<img src="${p.img}">`;
      area.appendChild(card);
      shownPlanets.add(p.count);
    }
  });
}

function newQuestion(){
  const choices=document.getElementById("choices");
  choices.innerHTML="";
  updateUI();

  if(index>=shuffled.length){
    if(finished) return;
    finished=true;
    document.getElementById("question").textContent=tensai.q;
    speak("ã™ã”ã„ï¼ã†ã¡ã‚…ã†ã®ã¦ã‚“ã•ã„ï¼");
    const card=document.createElement("div");
    card.className="image-card correct";
    card.innerHTML=`<img src="${tensai.img}">`;
    choices.appendChild(card);
    document.getElementById("restartBtn").style.display="inline-block";
    return;
  }

  const current=shuffled[index++];
  document.getElementById("question").textContent =
    `${current.q} ã®ã€Œ${current.c}ã€ã¯ ã©ã‚Œã‹ãªï¼Ÿ`;
  speak(`${current.q} ã® ${current.c}`);

  const pool=[current];
  while(pool.length<3){
    const r=data[Math.floor(Math.random()*data.length)];
    if(!pool.includes(r)) pool.push(r);
  }

  pool.sort(()=>Math.random()-.5).forEach(item=>{
    const card=document.createElement("div");
    card.className="image-card";
    card.innerHTML=`<img src="${item.img}">`;
    card.onclick=()=>{
      if(item===current){
        correctCount++;
        card.classList.add("correct");
        speak("ã›ã„ã‹ã„");
        setTimeout(newQuestion,1200);
      }else{
        speak("ã–ã‚“ã­ã‚“");
      }
    };
    choices.appendChild(card);
  });
}

function resetGame(){
  shuffled=[...data].sort(()=>Math.random()-.5);
  index=0;
  correctCount=0;
  finished=false;
  shownPlanets.clear();
  document.getElementById("planetArea").innerHTML="";
  document.getElementById("stars").textContent="";
  document.getElementById("restartBtn").style.display="none";
  newQuestion();
}

document.getElementById("restartBtn").onclick=resetGame;
resetGame();
</script>

</body>
</html>
